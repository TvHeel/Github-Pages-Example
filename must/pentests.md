## Pentesten
In dit semester zullen er een aantal pentesten gedaan worden door mij. In dit hoofdstuk zal ik je meer vertellen over deze pentesten.

### R&D project
Voor het R&D project heb ik ook pentesten gedaan. Deze pentesten betreffen IOT omgevingen; zowel front-end, back-end en sensoren
zijn hierbij inbegrepen. Een dergelijke opdracht was de AirScrubber, dit is een applicatie die verschillende soorten stofdeeltjes in de lucht meet en
op basis daarvan zorgt dat de luchtkwaliteit beter wordt. Hij reinigt de lucht o.b.v. de data die uit de sensoren komen.

**AirScrubber**<br />
Deze applicatie heb ik deels mee gepentest, omdat er groepsgenoten waren die dit project als het ware "claimde". Ik heb wel de mogelijkheid
gehad op er ook naar te kijken, maar veel was allemaal al getest door andere groepsgenoten.
<br />Ik heb nog kunnen vinden dat:
- Er geen beveiliging zat op alle endpoints in de backend, als gebruiker met minder rechten kan je alle endpoints gebruiken. Dit moet wel met een geldig JWT token.
- Bij het aanmaken van sensoren, gebruikers en dergelijke kan je attributen weg/leeg laten en het systeem maakt het gewoon aan.
- De site op [security headers](https://securityheaders.com/) een dikke onvoldoende scoort!

Het afgeronde rapport is <a class="downloadlink" onClick="passwd('../files/Airscrubber-Report.docx','Rapportage Airscrubber')">hier</a> te zien.
<br /><br />Aangezien wij als groep besloten hebben om de scope te vergroten en ook focus te leggen op andere IOT systemen, zal ik er hier ook een van opeisen.

**Smartwatch**


### Blue vs Red team 
Blue vs Red team evenementen zijn opgericht vanuit FHICT, deze zijn bedoeld om de vaardigheden van alle drie
de richtingen te testen/verbeteren. Zo worden de applicaties van de engineering studenten getest, de vaardigheden
van de red teamers(daar val ik onder) en de vaardigheden omtrent monitoring van de blueteamers.

#### Evenement 1
Ter voorbereiding op het eerste Blue vs Red team evenement is er een meeting geweest met alle red teamers.
Hierin zijn een aantal aspecten naar voren gekomen denk hierbij aan communicatie, verdelen in teams etc.:<br />
<img src="../images/rtvsbt/voorbereiding.png" alt="feedback" class="phish_img" style="align:left;">
<br />
Dit was op het begin allemaal een beetje vaag, omdat niemand echt wist wat de bedoeling was.

Op de dag zelf heeft ons team een aantal applicaties toegewezen gekregen. Ik wilde graag meer leren en om die
reden heb ik aan Rick gevraagd om bij mij in het team te komen en te pentesten. Dit heeft hij gedaan en we hebben samen
deze pentesten uitgevoerd.<br />
Wat alleen erg jammer was, was dat zowat alle applicaties weinig functionaliteiten hadden. Dit komt ook, omdat
het pas de eerste fase 1 is van het semester. Dit vond ik persoonlijk erg jammer, want ik keek er erg naar uit.

Toch hebben we het een en ander geprobeerd op de applicaties, denk hierbij aan dingen als:
- schadelijke bestanden uploaden
- input filtering
- rol bypassing 
- encryption testen
- XSS

Hier kwam niet veel uit, ondanks dat we op 1 applicatie hadden gevonden dat er geen rollensysteem werd gebruikt.
Ik kon zo inloggen als admin, terwijl er ook een gebruikersrol zou moeten zijn. Hiermee konden wij items in deze
webshop aanmaken, die niet helemaal legitiem waren. Echter, werden deze bestanden wel toegevoegd alleen deed de back - en front-end er niks mee.

De betreffende rapporten zijn hier te vinden:
- <a href="../files/rtvsbt/Report-Blogging-Website.docx" download>Blogging website</a>
- <a href="../files/rtvsbt/Report-Reading-Website.docx" download>Reading website</a>
- <a href="../files/rtvsbt/Report-Webshop.docx" download>Webshop website</a>

Aangezien ik het jammer vond dat hier niks in te vinden was en ik nog tijd over had ben ik met de applicatie 
van een vriend van mijn bezig geweest. Deze applicatie had daarentegen wel een aantal bugs, denk hierbij aan missende
authenticatie, slechte error afhandeling, input filtering en onnodige logging. Ik had er niet extreem veel tijd
voor, maar in die tijd heb ik wel veel kunnen vinden!<br />
Het rapport is <a href="../files/rtvsbt/Report-Banking-Website-Alexander-Lambooij.docx" download>hier</a> in te zien.
<br /> De maker van deze applicatie was erg blij met het document en vond het document heel duidelijk.

#### Evenement 2
Op de dag zelf heeft ons team een aantal applicaties toegewezen gekregen. Dit evenement heb ik samen met Joel Adams een applicatie
uitgekozen, een internetbankieren applicatie. Tijdens het vorige evenement had ik al een dergelijke applicatie getest en
wist ik dus waar ik naar moest kijken.<br />
Tijdens dit evenement waren de applicaties gelukkig verder ontwikkeld en waren er daadwerkelijk functies die getest konden worden. Hier was ik
wel blij mee, omdat ik er naar uit kijk om applicaties van andere te kunnen 'breken'.

Deze pentest is uitgevoerd volgens de [cyber kill chain](https://www.exabeam.com/information-security/cyber-kill-chain/), hiermee leer ik methodisch en gestructureerd te werken tijdens pentesten. Vaak zie je een webapplicatie
en dan gaan je handen jeuken en van alles proberen. Het is beter om dan een stap terug te zetten en gestructureerd te werk te gaan en bijvoorbeeld beginnen met reconnaissance.

De webapplicatie had wel een aantal (veiligheids)problemen:
- gebruik van een zwak protocol, HTTP in plaats van HTTPS. Dit biedt hackers de mogelijk tot het sniffen en aftappen van netwerkverkeer, aangezien dit plaintekst is.
- gebrek aan input validatie. Zo konden er bijvoorbeeld gebruikers aangemaakt worden zonder properties of met slechte wachtwoorden.

De applicatie zelf had ook nog wat gebreken, deze zijn in een notitie opgenomen in het document. Deze gebreken waren aspecten als slechte
feedback aan de gebruiker, geen optie om uit te loggen en onbetrouwbare inlogoptie (deze wilde niet altijd werken).

Alles omtrent de pentest is gedocumenteerd en opgeleverd aan de eigenaar (Alexander Lambooij).
Indien de details van de pentest bekeken willen worden kan deze <a class="downloadlink" id="windowslink")>hier</a> gedownload worden.

### Citrus Andriessen
Vanuit school is ons de mogelijkheid geboden om een pentest uit te voeren bij een bestaand bedrijf. We konden kiezen
uit verschillende bedrijven, maar uiteindelijk leek mij [Citrus Andriessen](https://www.citrusandriessen.nl/) het leukste. Deze pentest mocht gedaan worden
met meerdere personen en mijn leden zijn geworden: Anouk Brondijk en JoÃ«l Adams. Samen gaan wij deze pentest verzorgen en maken hier een mooi project van!
<br /><br />
Ik heb mezelf aangewezen als 'leider' en ben contact op gaan nemen met het bedrijf(5-10-2020). Deze gaven geen reactie en toen ben ik via het contactformulier op de site
een e-mail gaan schrijven. Deze e-mail heeft er wel toe geleid dat er reactie kwam vanuit ons contactpersoon(27-10-2020). Vanuit hier gaan we een Teams meeting inplannen om het een en ander te bespreken.

Deze pentest gaf ons heel veel mogelijkheden om ervaring op te doen, zo boden ze ons de mogelijkheid social engineering te doen.
Gezien de tijdslimiet zijn we gegaan voor phishing. Tijdens deze minor heb ik veel geleerd omtrent phishing en om die reden heb ik dit op me genomen. Hoe deze phishing exact gegaan is, is [hier](/must/phishing) te zien.

Verder hebben wij ook verschillende domeinen getest voor dit onderzoek. De resultaten van deze pentest mogen niet gedeeld worden en zijn strikt geheim.
Wel kan er verteld worden dat er verschillende resultaten zijn, zoals:
- Security misconfigurations
- Sensitive data exposure 
- Components with known vulnerabilities